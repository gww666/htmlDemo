<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>验证码</title>
    <script>
        onload = function () {
            var ma = document.getElementById("ma");
            var year = document.getElementById("year");

            function yzm() {
                var str = "";
                var arr = [];
                var num;
                while (arr.length < 4) {
                    num = parseInt(Math.random() * 62);
//                    console.log(num);
                    if (arr.indexOf(num) == -1) {
                        arr.push(num);
                    }
                }
//                console.log("------");
                for (var i = 0; i < arr.length; i++) {
                    if (arr[i] >=0 && arr[i] <= 9) {
                        //数字0~9
                        arr[i] = arr[i] + 48;
                    } else if (arr[i] >= 10 && arr[i] <= 35) {
                        //大写字母A~Z
                        arr[i] += 55;
                    } else if (arr[i] >= 36 && arr[i] <= 61) {
                        //小写字母a~z
                        arr[i] += 61
                    }
                    str += String.fromCharCode(arr[i]);
                }
                return str;
            }

            year.onclick = function () {
                ma.value = yzm();
            };
//            alert(String.fromCharCode(55));
        }
    </script>
</head>
<body>
<input type="text" value="验证码" id="ma">
<input type="submit" value="生成验证码" id="year">

</body>
</html>